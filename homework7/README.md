build-essential включает в себя С++/C и вдовесок всякие полезности (например make)
Anaconda включает в себя оптимизированный питон обоих веток и pip.

Докер-образ получается жирный, но если требуется легковесность то брать нужно
не ubuntu, а более легковесные контейнеры. В данном случае можно сэкономить ~400Mb
если слить все RUN'ы в один.
